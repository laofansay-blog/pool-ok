<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å¥–é«˜äº®æµ‹è¯•</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/winning-numbers.css">
    <style>
        body {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: 'Microsoft YaHei', sans-serif;
        }

        .test-container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .test-title {
            color: white;
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
        }

        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .test-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 18px;
            margin-bottom: 15px;
        }

        .demo-item {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .demo-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .winning-numbers-demo {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }

        .winning-numbers-demo h4 {
            color: white;
            margin-bottom: 10px;
            font-size: 14px;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1 class="test-title">ğŸ¯ ä¸­å¥–é«˜äº®åŠŸèƒ½æµ‹è¯•</h1>

        <!-- ä¸­å¥–æŠ•æ³¨ç¤ºä¾‹ -->
        <div class="test-section">
            <h2 class="test-subtitle">ğŸ‰ ä¸­å¥–æŠ•æ³¨ç¤ºä¾‹</h2>

            <div class="demo-item">
                <div class="demo-label">æŠ•æ³¨å†…å®¹ï¼ˆ5ç»„ä¸­å¥–ï¼‰</div>
                <div id="winningBetNumbers"></div>
                <div id="winningStats"></div>
                <div id="winningPayout"></div>
            </div>

            <div class="winning-numbers-demo">
                <h4>å¼€å¥–æ•°å­—ï¼š</h4>
                <div id="winningNumbersDisplay"></div>
            </div>
        </div>

        <!-- éƒ¨åˆ†ä¸­å¥–ç¤ºä¾‹ -->
        <div class="test-section">
            <h2 class="test-subtitle">ğŸ¯ éƒ¨åˆ†ä¸­å¥–ç¤ºä¾‹</h2>

            <div class="demo-item">
                <div class="demo-label">æŠ•æ³¨å†…å®¹ï¼ˆ2ç»„ä¸­å¥–ï¼‰</div>
                <div id="partialWinBetNumbers"></div>
                <div id="partialWinStats"></div>
                <div id="partialWinPayout"></div>
            </div>
        </div>

        <!-- æœªä¸­å¥–ç¤ºä¾‹ -->
        <div class="test-section">
            <h2 class="test-subtitle">âŒ æœªä¸­å¥–ç¤ºä¾‹</h2>

            <div class="demo-item">
                <div class="demo-label">æŠ•æ³¨å†…å®¹ï¼ˆ0ç»„ä¸­å¥–ï¼‰</div>
                <div id="noWinBetNumbers"></div>
                <div id="noWinStats"></div>
            </div>
        </div>

        <!-- åŠŸèƒ½è¯´æ˜ -->
        <div class="test-section">
            <h2 class="test-subtitle">ğŸ“– åŠŸèƒ½è¯´æ˜</h2>
            <div style="color: rgba(255,255,255,0.8); line-height: 1.6;">
                <p><strong>ğŸ¯ ä¸­å¥–å·ç é«˜äº®ï¼š</strong></p>
                <ul>
                    <li>ä¸­å¥–çš„å·ç ä¼šæœ‰é‡‘è‰²è¾¹æ¡†å’Œå‘å…‰æ•ˆæœ</li>
                    <li>ä¸­å¥–å·ç åé¢ä¼šæ˜¾ç¤º ğŸ¯ å›¾æ ‡</li>
                    <li>é¼ æ ‡æ‚¬åœä¼šæ˜¾ç¤º"(ä¸­å¥–!)"æç¤º</li>
                </ul>

                <p><strong>ğŸ“Š ä¸­å¥–ç»Ÿè®¡ï¼š</strong></p>
                <ul>
                    <li>æ˜¾ç¤ºæŠ•æ³¨ç»„æ•°ã€ä¸­å¥–ç»„æ•°ã€ä¸­å¥–ç‡</li>
                    <li>æ˜¾ç¤ºä¸­å¥–çŠ¶æ€å’Œä¸­å¥–ç»„åˆ«</li>
                    <li>ä¸­å¥–æ—¶ç»Ÿè®¡æ¡†ä¼šå˜æˆç»¿è‰²</li>
                </ul>

                <p><strong>ğŸ’° å®é™…èµ”ä»˜å±•ç¤ºï¼š</strong></p>
                <ul>
                    <li>æœ‰èµ”ä»˜æ—¶ä¼šæ˜¾ç¤ºé†’ç›®çš„ç»¿è‰²é«˜äº®æ¡†</li>
                    <li>æ˜¾ç¤ºèµ”ä»˜é‡‘é¢å’Œå€æ•°</li>
                    <li>å¸¦æœ‰é—ªå…‰åŠ¨ç”»æ•ˆæœ</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="scripts/winning-numbers.js"></script>
    <script>
        // æµ‹è¯•æ•°æ®
        const testData = {
            // å¼€å¥–æ•°å­—
            winningNumbers: [9, 7, 3, 7, 4, 2, 6, 1, 2, 8],

            // ä¸­å¥–æŠ•æ³¨ï¼ˆ5ç»„ä¸­å¥–ï¼‰
            winningBet: {
                selected_numbers: {
                    "1": [6, 7, 8, 9, 10],  // ä¸­å¥–ï¼š9
                    "2": [6, 7, 8, 9, 10],  // ä¸­å¥–ï¼š7
                    "3": [1, 2, 3, 4, 5],   // ä¸­å¥–ï¼š3
                    "4": [],
                    "5": [],
                    "6": [1, 2, 3, 4, 5],   // ä¸­å¥–ï¼š2
                    "7": [1, 2, 3, 4, 5],   // æœªä¸­å¥–ï¼š6
                    "8": [1, 2, 3, 4, 5],   // ä¸­å¥–ï¼š1
                    "9": [6, 7, 8, 9, 10],  // æœªä¸­å¥–ï¼š2
                    "10": [6, 7, 8, 9, 10]  // ä¸­å¥–ï¼š8
                },
                bet_amount: 60.00,
                actual_payout: 480.00
            },

            // éƒ¨åˆ†ä¸­å¥–æŠ•æ³¨ï¼ˆ2ç»„ä¸­å¥–ï¼‰
            partialWinBet: {
                selected_numbers: {
                    "1": [1, 2, 3, 4, 5],   // æœªä¸­å¥–ï¼š9
                    "2": [6, 7, 8, 9, 10],  // ä¸­å¥–ï¼š7
                    "3": [6, 7, 8, 9, 10],  // æœªä¸­å¥–ï¼š3
                    "4": [],
                    "5": [],
                    "6": [],
                    "7": [],
                    "8": [1, 2, 3, 4, 5],   // ä¸­å¥–ï¼š1
                    "9": [],
                    "10": []
                },
                bet_amount: 18.00,
                actual_payout: 54.00
            },

            // æœªä¸­å¥–æŠ•æ³¨
            noWinBet: {
                selected_numbers: {
                    "1": [1, 2, 3, 4, 5],   // æœªä¸­å¥–ï¼š9
                    "2": [1, 2, 3, 4, 5],   // æœªä¸­å¥–ï¼š7
                    "3": [6, 7, 8, 9, 10],  // æœªä¸­å¥–ï¼š3
                    "4": [],
                    "5": [],
                    "6": [],
                    "7": [],
                    "8": [],
                    "9": [],
                    "10": []
                },
                bet_amount: 15.00,
                actual_payout: 0.00
            }
        }

        // æ ¼å¼åŒ–è´§å¸
        function formatCurrency(amount) {
            return 'Â¥' + amount.toFixed(2)
        }

        // æ¸²æŸ“ä¸­å¥–ç»Ÿè®¡
        function renderWinningStats(selectedNumbers, winningNumbers) {
            const stats = WinningNumbers.calculateWinningStats(selectedNumbers, winningNumbers)

            if (stats.totalGroups === 0) {
                return ''
            }

            const hasWinnings = stats.winningGroups > 0
            const winRate = (stats.winRate * 100).toFixed(1)

            return `
                <div class="winning-stats ${hasWinnings ? 'has-winnings' : ''}">
                    <div class="winning-stats-title">
                        ${hasWinnings ? 'ğŸ¯' : 'ğŸ“Š'} ä¸­å¥–ç»Ÿè®¡
                    </div>
                    <div class="winning-stats-content">
                        <div class="winning-stat-item">
                            <div class="winning-stat-label">æŠ•æ³¨ç»„æ•°</div>
                            <div class="winning-stat-value">${stats.totalGroups}</div>
                        </div>
                        <div class="winning-stat-item">
                            <div class="winning-stat-label">ä¸­å¥–ç»„æ•°</div>
                            <div class="winning-stat-value ${hasWinnings ? 'success' : ''}">${stats.winningGroups}</div>
                        </div>
                        <div class="winning-stat-item">
                            <div class="winning-stat-label">ä¸­å¥–ç‡</div>
                            <div class="winning-stat-value ${hasWinnings ? 'highlight' : ''}">${winRate}%</div>
                        </div>
                    </div>
                    ${hasWinnings ? `
                        <div style="margin-top: 10px; font-size: 14px; color: rgba(255,255,255,0.8);">
                            ä¸­å¥–ç»„åˆ«: ${stats.winningDetails
                        .filter(detail => detail.isWinning)
                        .map(detail => `ç¬¬${detail.group}ç»„`)
                        .join(', ')}
                        </div>
                    ` : ''}
                </div>
            `
        }

        // æ¸²æŸ“èµ”ä»˜é«˜äº®
        function renderPayoutHighlight(bet) {
            if (bet.actual_payout <= 0) return ''

            return `
                <div class="payout-highlight">
                    <div class="payout-highlight-title">
                        ğŸ‰ å®é™…èµ”ä»˜
                    </div>
                    <div class="payout-highlight-amount">
                        ${formatCurrency(bet.actual_payout)}
                    </div>
                    <div class="payout-highlight-subtitle">
                        æŠ•æ³¨ ${formatCurrency(bet.bet_amount)} â†’ è·å¾— ${formatCurrency(bet.actual_payout)} (${(bet.actual_payout / bet.bet_amount).toFixed(1)}å€)
                    </div>
                </div>
            `
        }

        // åˆå§‹åŒ–æ¼”ç¤º
        function initDemo() {
            // å¼€å¥–æ•°å­—
            document.getElementById('winningNumbersDisplay').innerHTML =
                WinningNumbers.renderDetailed(testData.winningNumbers)

            // ä¸­å¥–æŠ•æ³¨ç¤ºä¾‹
            document.getElementById('winningBetNumbers').innerHTML =
                WinningNumbers.renderBetNumbers(testData.winningBet.selected_numbers, { size: 'medium' }, testData.winningNumbers)

            document.getElementById('winningStats').innerHTML =
                renderWinningStats(testData.winningBet.selected_numbers, testData.winningNumbers)

            document.getElementById('winningPayout').innerHTML =
                renderPayoutHighlight(testData.winningBet)

            // éƒ¨åˆ†ä¸­å¥–ç¤ºä¾‹
            document.getElementById('partialWinBetNumbers').innerHTML =
                WinningNumbers.renderBetNumbers(testData.partialWinBet.selected_numbers, { size: 'medium' }, testData.winningNumbers)

            document.getElementById('partialWinStats').innerHTML =
                renderWinningStats(testData.partialWinBet.selected_numbers, testData.winningNumbers)

            document.getElementById('partialWinPayout').innerHTML =
                renderPayoutHighlight(testData.partialWinBet)

            // æœªä¸­å¥–ç¤ºä¾‹
            document.getElementById('noWinBetNumbers').innerHTML =
                WinningNumbers.renderBetNumbers(testData.noWinBet.selected_numbers, { size: 'medium' }, testData.winningNumbers)

            document.getElementById('noWinStats').innerHTML =
                renderWinningStats(testData.noWinBet.selected_numbers, testData.winningNumbers)
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initDemo)
    </script>
</body>

</html>
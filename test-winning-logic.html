<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å¥–é€»è¾‘æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-case {
            background: white;
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ddd;
        }
        .test-case.winning {
            border-left-color: #4CAF50;
            background: #f8fff8;
        }
        .test-case.losing {
            border-left-color: #f44336;
            background: #fff8f8;
        }
        .test-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .test-details {
            font-size: 14px;
            color: #666;
        }
        .result {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            font-weight: bold;
        }
        .result.win {
            background: #4CAF50;
            color: white;
        }
        .result.lose {
            background: #f44336;
            color: white;
        }
    </style>
</head>
<body>
    <h1>ä¸­å¥–é€»è¾‘æµ‹è¯•</h1>
    <p>æµ‹è¯•è§„åˆ™ï¼šåªè¦æœ‰ä¸€ç»„ä¸­å¥–å°±ç®—ä¸­å¥–</p>
    
    <div id="testResults"></div>

    <script src="web/scripts/winning-numbers.js"></script>
    <script>
        // æµ‹è¯•ç”¨ä¾‹
        const testCases = [
            {
                name: "ç¬¬175æœŸå®é™…æŠ•æ³¨ - 6ç»„ä¸­å¥–",
                selectedNumbers: {
                    "1": [6, 7, 8, 9, 10],  // å¼€å¥–10 âœ…
                    "2": [6, 7, 8, 9, 10],  // å¼€å¥–5 âŒ
                    "3": [1, 2, 3, 4, 5],   // å¼€å¥–6 âŒ
                    "4": [1, 2, 3, 4, 5],   // å¼€å¥–3 âœ…
                    "5": [1, 2, 3, 4, 5],   // å¼€å¥–5 âœ…
                    "6": [1, 2, 3, 4, 5],   // å¼€å¥–2 âœ…
                    "7": [6, 7, 8, 9, 10],  // å¼€å¥–8 âœ…
                    "8": [1, 2, 3, 4, 5],   // å¼€å¥–5 âœ…
                    "9": [6, 7, 8, 9, 10],  // å¼€å¥–5 âŒ
                    "10": [6, 7, 8, 9, 10]  // å¼€å¥–4 âŒ
                },
                winningNumbers: [10, 5, 6, 3, 5, 2, 8, 5, 5, 4],
                expectedWin: true
            },
            {
                name: "åªæœ‰1ç»„ä¸­å¥–",
                selectedNumbers: {
                    "1": [1, 2, 3, 4, 5],   // å¼€å¥–10 âŒ
                    "2": [1, 2, 3, 4, 5],   // å¼€å¥–5 âœ…
                    "3": [6, 7, 8, 9, 10]   // å¼€å¥–6 âŒ
                },
                winningNumbers: [10, 5, 6, 3, 5, 2, 8, 5, 5, 4],
                expectedWin: true
            },
            {
                name: "0ç»„ä¸­å¥–",
                selectedNumbers: {
                    "1": [1, 2, 3, 4, 5],   // å¼€å¥–10 âŒ
                    "2": [1, 2, 3, 4, 5],   // å¼€å¥–5 âŒ (5ä¸åœ¨é€‰æ‹©ä¸­)
                    "3": [6, 7, 8, 9, 10]   // å¼€å¥–6 âŒ (6ä¸åœ¨é€‰æ‹©ä¸­)
                },
                winningNumbers: [10, 5, 6, 3, 5, 2, 8, 5, 5, 4],
                expectedWin: false
            },
            {
                name: "å…¨éƒ¨ä¸­å¥–",
                selectedNumbers: {
                    "1": [10],  // å¼€å¥–10 âœ…
                    "2": [5],   // å¼€å¥–5 âœ…
                    "3": [6]    // å¼€å¥–6 âœ…
                },
                winningNumbers: [10, 5, 6, 3, 5, 2, 8, 5, 5, 4],
                expectedWin: true
            }
        ]
        
        function runTests() {
            const resultsDiv = document.getElementById('testResults')
            let html = ''
            
            testCases.forEach((testCase, index) => {
                const stats = WinningNumbers.calculateWinningStats(testCase.selectedNumbers, testCase.winningNumbers)
                const actualWin = stats.winningGroups >= 1
                const isCorrect = actualWin === testCase.expectedWin
                
                const winningGroups = []
                stats.winningDetails.forEach(detail => {
                    if (detail.isWinning) {
                        winningGroups.push(`ç¬¬${detail.group}ç»„`)
                    }
                })
                
                html += `
                    <div class="test-case ${actualWin ? 'winning' : 'losing'}">
                        <div class="test-title">æµ‹è¯• ${index + 1}: ${testCase.name}</div>
                        <div class="test-details">
                            <div>æŠ•æ³¨ç»„æ•°: ${stats.totalGroups}</div>
                            <div>ä¸­å¥–ç»„æ•°: ${stats.winningGroups}</div>
                            <div>ä¸­å¥–ç‡: ${(stats.winRate * 100).toFixed(1)}%</div>
                            <div>ä¸­å¥–ç»„åˆ«: ${winningGroups.join(', ') || 'æ— '}</div>
                            <div>å¼€å¥–æ•°å­—: ${testCase.winningNumbers.join(', ')}</div>
                        </div>
                        <div class="result ${actualWin ? 'win' : 'lose'}">
                            ${actualWin ? 'ğŸ‰ ä¸­å¥–' : 'âŒ æœªä¸­å¥–'} 
                            ${isCorrect ? 'âœ… æ­£ç¡®' : 'âŒ é”™è¯¯'}
                        </div>
                    </div>
                `
            })
            
            resultsDiv.innerHTML = html
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè¿è¡Œæµ‹è¯•
        document.addEventListener('DOMContentLoaded', runTests)
    </script>
</body>
</html>
